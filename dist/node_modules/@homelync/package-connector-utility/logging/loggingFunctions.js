"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const __1 = require("..");
const process_1 = require("process");
function logStartup(event, context, level = 'info') {
    const tz = process.env.TZ;
    if (tz !== 'UTC') {
        throw Error(`Server must run as TZ = UTC but was ${tz}, check your TZ environment variable`);
    }
    const lambdaName = process.env.BASE_LAMBDA_NAME;
    __1.Logger[level](`#1600 Starting Execution of ${lambdaName} Lambda`);
    __1.Logger[level]('Using timezone: ' + tz);
    __1.Logger[level]('Using configuration for environment: ' + process_1.env.NODE_ENV);
    __1.Logger[level]('Lambda Request Id: ' + context.awsRequestId);
    __1.Logger[level]('CorrelationId: ' + event.correlationId);
    __1.Logger[level]('Event received: ' + JSON.stringify(event));
}
exports.logStartup = logStartup;
function conditionallyLogStartup(event, context, configuredLevel) {
    if (configuredLevel !== 'info' && configuredLevel !== 'debug') {
        logStartup(event, context, 'warn');
    }
}
exports.conditionallyLogStartup = conditionallyLogStartup;
//# sourceMappingURL=loggingFunctions.js.map