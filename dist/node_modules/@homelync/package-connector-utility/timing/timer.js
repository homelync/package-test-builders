"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const logger_1 = require("../logging/logger");
const measure = require('measure');
class Timer {
    constructor() {
        this.timings = new Array();
    }
    start(tag) {
        this._duration = measure.measure(tag);
    }
    stop() {
        this.timings.push(this._duration());
    }
    clear() {
        this.timings = new Array();
    }
    log() {
        if (this.timings && this.timings.length > 1) {
            const averageProcessingTime = this.timings.reduce((p, c) => p + c) / this.timings.length;
            logger_1.Logger.info(`Average processing time ${averageProcessingTime}ms`);
        }
    }
}
exports.Timer = Timer;
//# sourceMappingURL=timer.js.map